<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>For You</title>

  <style>
    * { box-sizing: border-box; }

    body {
      margin: 0;
      height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: linear-gradient(135deg, #fdeff9, #ecf3ff);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      position: relative;
    }

    .card {
      background: rgba(255,255,255,0.9);
      backdrop-filter: blur(8px);
      padding: 28px;
      border-radius: 16px;
      width: 90%;
      max-width: 420px;
      text-align: center;
      box-shadow: 0 20px 40px rgba(0,0,0,0.1);
      position: relative;
      z-index: 10;
    }

    h2 { font-weight: 500; margin-bottom: 18px; }
    p { color: #444; margin-bottom: 18px; }

    button {
      width: 100%;
      padding: 12px;
      margin: 10px 0;
      border-radius: 10px;
      border: none;
      font-size: 18px;
      cursor: pointer;
      transition: transform 0.15s ease, box-shadow 0.3s ease;
    }

    button:hover { transform: scale(1.03); }

    .option { background: #f1f1f1; }
    .primary { background: black; color: white; }

    #no { position: relative; width: 48%; display: inline-block; margin-left: 4%; }
    #yes { width: 48%; display: inline-block; }

    .photo {
      width: 80%;
      max-width: 300px;
      border-radius: 12px;
      margin: 14px auto;
      display: block;
      opacity: 0;
      transform: scale(0.8) rotate(-5deg);
      transition: transform 0.8s ease, opacity 0.8s ease, box-shadow 0.8s ease;
    }
    .photo.show {
      opacity: 1;
      transform: scale(1) rotate(0deg);
      box-shadow: 0 15px 30px rgba(0,0,0,0.2);
    }

    .heart, .flower, .note, .sparkle {
      position: absolute;
      font-size: 30px;
      animation: float 8s infinite ease-in;
      z-index: 1;
      user-select: none;
      pointer-events: none;
    }

    .heart { color: rgba(255, 0, 80, 0.2); }
    .flower { color: rgba(255, 200, 0, 0.3); }
    .note { color: rgba(50, 50, 255, 0.3); }
    .sparkle { color: rgba(255,255,255,0.6); }

    @keyframes float {
      0% { transform: translateY(100vh); }
      100% { transform: translateY(-10vh); }
    }

    #music-toggle {
      position: fixed; top: 10px; right: 10px;
      padding: 8px 12px;
      border: none;
      border-radius: 8px;
      background: black;
      color: white;
      cursor: pointer;
      z-index: 20;
    }

    #press-play {
      position: fixed;
      bottom: 20px;
      width: 100%;
      text-align: center;
      font-size: 18px;
      color: #ff4081;
      z-index: 20;
    }
  </style>
</head>
<body>

<audio id="bg-music" loop>
  <source src="music.mp3" type="audio/mpeg">
</audio>

<button id="music-toggle">Play Music</button>
<div id="press-play">üíñ Press play to make our day magical! üíê</div>

<div class="card">
  <h2 id="title">Hey.</h2>
  <p id="text">This won‚Äôt take long. I promise.</p>
  <div id="content"></div>
</div>

<script>
  const screens = [
    { title: "Quick thing üòå", text: "You ready for a few honest questions?", options: ["Okay", "I‚Äôm curious now"] },
    { title: "First one", text: "What do you miss more?", options: ["You", "Us", "Everything about us"] },
    { title: "Be honest", text: "This distance‚Ä¶ worth it?", options: ["Yes", "Still yes", "Always yes"] },
    { photo: true },
    { title: "One last thing", text: "So‚Ä¶ will you be my Valentine? ‚ù§Ô∏è", final: true }
  ];

  let current = 0;
  const title = document.getElementById("title");
  const text = document.getElementById("text");
  const content = document.getElementById("content");

  function render() {
    content.innerHTML = "";
    const screen = screens[current];

    if (screen.photo) {
      const images = ["images/1.JPG", "images/2.JPG", "images/3.JPG"];

      const titles = [
        "This is where it all started.",
        "Some memories just feel like home.",
        "Moments that changed everything."
      ];

      const messages = [
        "Haha‚Ä¶ our first date üòè ‚Äî still makes me smile every time.",
        "Shopping spree üõçÔ∏è ‚Äî and somehow every moment felt perfect.",
        "Roka day ‚ù§Ô∏è ‚Äî unforgettable, just like us."
      ];

      const img = document.createElement("img");
      img.className = "photo";
      content.appendChild(img);

      let index = 0;

      const btn = document.createElement("button");
      btn.className = "primary";
      btn.textContent = "‚Üí";
      content.appendChild(btn);

      function showPhoto(i) {
        title.textContent = titles[i];
        text.textContent = messages[i];

        img.classList.remove("show");
        setTimeout(() => {
          img.src = images[i];
          img.classList.add("show");
          createOrbitingSparkles(img, 6, 4000);
        }, 50);
      }

      showPhoto(index);

      btn.onclick = () => {
        index++;
        if (index < images.length) showPhoto(index);
        else next();
      };
      return;
    }

    if (screen.final) {
      title.textContent = screen.title;
      text.textContent = screen.text;

      const yes = document.createElement("button");
      yes.textContent = "Yes ‚ù§Ô∏è";
      yes.id = "yes";
      yes.className = "primary";
      yes.disabled = true;
      yes.style.opacity = 0.6;

      const no = document.createElement("button");
      no.textContent = "No üòè";
      no.id = "no";

      let hoveredNo = false;
      no.onmouseover = () => {
        hoveredNo = true;
        yes.disabled = false;
        yes.style.opacity = 1;
        no.style.transform =
          `translate(${Math.random()*120-60}px, ${Math.random()*80-40}px)`;
      };

      yes.onclick = () => hoveredNo && showFinalMessage();

      content.appendChild(yes);
      content.appendChild(no);
      return;
    }

    title.textContent = screen.title;
    text.textContent = screen.text;
    screen.options?.forEach(opt => {
      const btn = document.createElement("button");
      btn.textContent = opt;
      btn.className = "option";
      btn.onclick = next;
      content.appendChild(btn);
    });
  }

  function next() {
    current++;
    render();
  }

  function showFinalMessage() {
    content.innerHTML = "";
    title.textContent = "You just made me the happiest! üòç";
    text.textContent =
      "I can‚Äôt wait to be with you soon. Every moment with you is special.";

    const img = document.createElement("img");
    img.className = "photo";
    content.appendChild(img);

    setTimeout(() => {
      img.src = "images/4.JPG";
      img.classList.add("show");
      createOrbitingSparkles(img, 8, 5000);
    }, 50);

    setTimeout(() => {
      const note = document.createElement("p");
      note.textContent = "Haha‚Ä¶ yeah, I planned all of this üòå";
      note.style.fontSize = "14px";
      note.style.opacity = "0.75";
      content.appendChild(note);
    }, 1200);

    setTimeout(() => {
      const love = document.createElement("p");
      love.textContent = "I love you so much! üíñ";
      love.style.marginTop = "18px";
      love.style.fontSize = "20px";
      love.style.fontWeight = "500";
      love.style.opacity = "0";
      love.style.transition = "opacity 1.5s ease";
      content.appendChild(love);

    requestAnimationFrame(() => {
      love.style.opacity = "1";
    });
    }, 2600);

    // Exit button dynamically at the very end
    setTimeout(() => {
      const exitBtn = document.createElement("button");
      exitBtn.id = "exit-btn";
      exitBtn.textContent = "All done üíõ";
      content.appendChild(exitBtn);

      exitBtn.addEventListener("click", () => {
        document.body.style.opacity = "0";
        setTimeout(() => {
          window.location.href = "about:blank";
        }, 600);
      });
    }, 4000);

  }

  function createFloatingSymbol(className, symbol) {
    const el = document.createElement("div");
    el.className = className;
    el.textContent = symbol;
    el.style.left = Math.random() * 100 + "vw";
    el.style.fontSize = (15 + Math.random() * 30) + "px";
    el.style.animationDuration = (5 + Math.random() * 5) + "s";
    document.body.appendChild(el);
  }

  function createOrbitingSparkles(photo, count, duration = 4000) {
    const rect = photo.getBoundingClientRect();
    for (let i = 0; i < count; i++) {
      const sparkle = document.createElement("div");
      sparkle.className = "sparkle";
      sparkle.textContent = "‚ú®";
      sparkle.style.left = rect.left + rect.width / 2 + "px";
      sparkle.style.top = rect.top + rect.height / 2 + "px";
      document.body.appendChild(sparkle);

      let angle = Math.random() * Math.PI * 2;
      const interval = setInterval(() => {
        angle += 0.02;
        sparkle.style.transform =
          `translate(${40 * Math.cos(angle)}px, ${40 * Math.sin(angle)}px)`;
      }, 30);

      setTimeout(() => {
        clearInterval(interval);
        sparkle.remove();
      }, duration);
    }
  }

  for (let i = 0; i < 15; i++) {
    createFloatingSymbol("heart", "‚ù§");
    createFloatingSymbol("flower", "üå∏");
  }

  const music = document.getElementById("bg-music");
  const musicToggle = document.getElementById("music-toggle");
  const pressPlay = document.getElementById("press-play");
  music.volume = 0.2;

  musicToggle.addEventListener("click", () => {
    if (music.paused) {
      music.play();
      musicToggle.textContent = "Pause Music";
      pressPlay.style.display = "none";
      for (let i = 0; i < 15; i++) createFloatingSymbol("note", "üéµ");
    } else {
      music.pause();
      musicToggle.textContent = "Play Music";
    }
  });

  render();
</script>

</body>
</html>
